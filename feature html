<!DOCTYPE html>

<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>SpellChecker</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <style type="text/css">
            body {
                background-image: url('https://static.vecteezy.com/system/resources/previews/000/602/518/original/vector-buildings-silhouette-cityscape-background-modern-architecture-urban-city-landscape.jpg');
                background-repeat: no-repeat;
                background-size: cover;
            }
            .button {
                border: none;
                color: white;
                padding: 15px 32px;
                text-align: center;
                text-decoration: none;
                display: inline-block;
                font-size: 16px;
                margin: 4px 2px;
                cursor: pointer;
            }
            .button {background-color: #008CBA;} /* Blue */
            .blue_color {
                color: #008CBA;
                font-size: 14px;
            }
            #Input {
                background-color: white;
                box-shadow: 0 0 8px 2px rgba(0, 0, 0, 0.2);
                outline: none;
                border-radius: 15px 15px 15px;
                resize: none;
                min-height: 350px;
                min-width: 900px;
                margin: 45px 0;
            }
        </style>
    </head>


    <body >

	    <div class="lang_switcher">		
			<center>
                <button name="irish" value="Irish" onclick="Irish()">Gaeilge</button>
			    <button name="English" value="English" onclick="English()">English</button>
            </center>
        </div>

        <div class="container">
            <div class="imagebg"></div>
            <div class="row " style="margin-top: 50px">
                <div class="col-md-6 col-md-offset-3 form-container">

                    <center>
                        <form method="POST">
                            <select id="lang_select">
                                <option id='none' value="Select language"><span class="blue_color">SELECT SPELLCHECK LANGUAGE</span></option>
                                <option id='lang1' value="irish">Gaeilge</option>
                                <option id='lang2' value="english">English</option>
                            </select>
                        </form>
                    </center>

                    <center>
                        <font size="+7" color="black" class='tr' id='head'> SPELL CHECKER</font>(TEAM 5)
                    </center>

                    <form role="form" method="POST" id="reused_form">
                        <div class="row">
                            <div class="col-sm-12 form-group">
                                <label for="Input" id="sent"> ENTER YOUR SENTENCE:</label>
				                <form method="POST">
                                   <textarea class="form-control"  type="textarea" name="takeinput" id="Input" oninput="countWord()" placeholder="enter text here" maxlength="6000" rows="8"  required ></textarea>
                                </form>
                                <p> Word Count:
                                    <span id="show">0</span>
                                </p>
                                <script>
                                    function countWord() {
 
// Get the input text value
 var words = document
     .getElementById("Input").value;

 // Initialize the word counter
 var count = 0;

 // Split the words on each
 // space character
 var split = words.split(' ');

 // Loop through the words and
 // increase the counter when
 // each split word is not empty
 for (var i = 0; i < split.length; i++) {
     if (split[i] != "") {
         count += 1;
     }
 }

 // Display it as output
 document.getElementById("show")
     .innerHTML = count;
}
                                </script>
                             
                            </div>
                        </div>
                        <label for="Input" class='tr' size="+3" id='sugg'> SUGGESTIONS:</label>
						
						<div><center>Suggestions</center></div>
						<div id="sug1" onclick="fun('1')"></div>
						<div id="sug2" onclick="fun('2')"></div>
						<div id="sug3" onclick="fun('3')"></div>
						<div id="sug4" onclick="fun('4')"></div>
						<div id="sug5" onclick="fun('5')"></div>
						
                    </form>

                </div>
            </div>
        </div> 

    </body>

	<script type="text/javascript" src="https://code.jquery.com/jquery-1.7.1.min.js"></script>
	<script src="https://code.jquery.com/ui/1.13.0/jquery-ui.js"></script>
     
	<script>
	    var gbl;
	    function Irish() {
	        //document.getElementById("check").innerHTML = "SELECT SPELLCHECK LANGUAGE";
            document.getElementById("sent").innerHTML = "Iontráil d’abairt:";
            document.getElementById("head").innerHTML = "SEICEÁIL SPELL";
		    document.getElementById("sugg").innerHTML = "MOLTAÍ:";
            //document.getElementsByClassName("count").innerHTML = "Líon Focal:";

        }
        function English() {
	        //document.getElementById("check").innerHTML = "TEANGA SPELLCHECK SELECT";
            document.getElementById("sent").innerHTML = "ENTER YOUR SENTENCE:";
            document.getElementById("head").innerHTML = "SPELL CHECKER";
		    document.getElementById("sugg").innerHTML = "SUGGESTIONS:";
            //document.getElementsByClassName("count").innerHTML = "WORD COUNT:";

        }
	</script>

	<script>
		function fun(a) {
			var x=document.getElementById("Input").value;
			x=x.split(" ");
			var r='';

			if(a=="1") {
			    var p=document.getElementById("sug1").innerHTML;
			     for(i in x) {
				    if(x[i]==gbl) {
				    	r=r.concat(' ',p);
				        r=r+" ";
				    }
				    else {
					    r=r.concat(x[i],' ');
				    }
			    }
			}

			else if(a=="2") {
				var p=document.getElementById("sug2").innerHTML;
				for(i in x) {
				    if(x[i]==gbl) {
					    r=r+" ";
					    r=r+p;
					    r=r+" ";
				    }
				    else {
					    r=r+x[i];
					    r=r+" ";
				    }
			    }
			}

			else if(a=="3"){ 
				var p=document.getElementById("sug3").innerHTML;
				for(i in x) {
				    if(x[i]==gbl) {
					    r=r+" ";
					    r=r+p;
					    r=" ";
				    }
				    else {
				        r=r+x[i];
					    r=r+" ";
				    }
		 	    }
			}
			else if(a=="4") {
				var p=document.getElementById("sug4").innerHTML;
				for(i in x) {
				    if(x[i]==gbl) {
					    r=r+" ";
					    r=r+p;
					    r=r+" ";
				    }
				     else {
					    r=r+x[i];
					    r=r+" ";
				    }
			    }
			}

			else if(a=="5") {
				var p=document.getElementById("sug5").innerHTML;
				for(i in x){
				    if(i==gbl) {
					    r=r+p;
				    }
				     else {
					    r=r+i;
				    }
			    }
			}

			document.getElementById("Input").value=r;
		    document.getElementById("cont").style.display = "none";
		}
	</script>

	<script>
	    $(document).ready(function() {
            var temp = 'english'
            $('#lang_select').change(function () {
                temp = $("option:selected").val();
            });
	        document.addEventListener("click", () => {
	            var selectedText = window.getSelection().toString();
                gbl=selectedText;

	            $.ajax({
                    data: {
                        'wrongwords':selectedText,
                        'language': temp
                    },
                    type:'POST',
		            url: '/'
	            })
	            .done(function(data) {
                    var suggestions = data.final_suggestions;
			        var lis=suggestions.split(" ");
			        sug1.innerHTML=lis[0];
			        sug2.innerHTML=lis[1];
			        sug3.innerHTML=lis[2];
			        sug4.innerHTML=lis[3];
			        sug5.innerHTML=lis[4];
                });
                alert(red_flag)
 	        });
	    });
        
                            
	</script>

</html>
